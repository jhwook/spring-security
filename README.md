# Spring Security JWT μΈμ¦ ν”„λ΅μ νΈ

## π λ°°ν¬ URL
- **API κΈ°λ³Έ URL**: http://ec2-13-125-227-244.ap-northeast-2.compute.amazonaws.com:8080](http://ec2-13-125-227-244.ap-northeast-2.compute.amazonaws.com:8080
- **Swagger UI**: http://ec2-13-125-227-244.ap-northeast-2.compute.amazonaws.com:8080/swagger-ui/index.html](http://ec2-13-125-227-244.ap-northeast-2.compute.amazonaws.com:8080/swagger-ui

---

## π§ Access / Refresh Token ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### 1. Access Token μƒμ„±
- **λ©μ :**  
  Access Token μƒμ„± κΈ°λ¥μ΄ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. Access Tokenμ„ μƒμ„±ν•©λ‹λ‹¤.
    2. μƒμ„±λ ν† ν°μ΄ `null`μ΄ μ•„λ‹μ§€ ν™•μΈν•©λ‹λ‹¤.
    3. ν† ν°μ΄ `Bearer` μ ‘λ‘μ–΄λ΅ μ‹μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  μ ν¨ν• Access Tokenμ΄ λ°ν™λ©λ‹λ‹¤.

---

### 2. Refresh Token μƒμ„±
- **λ©μ :**  
  Refresh Token μƒμ„± κΈ°λ¥μ΄ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. Refresh Tokenμ„ μƒμ„±ν•©λ‹λ‹¤.
    2. μƒμ„±λ ν† ν°μ΄ `null`μ΄ μ•„λ‹μ§€ ν™•μΈν•©λ‹λ‹¤.
    3. ν† ν°μ΄ `Bearer` μ ‘λ‘μ–΄λ΅ μ‹μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  μ ν¨ν• Refresh Tokenμ΄ λ°ν™λ©λ‹λ‹¤.

---

### 3. Claims μ¶”μ¶
- **λ©μ :**  
  Access Tokenμ—μ„ `Claims` μ •λ³΄λ¥Ό μ¬λ°”λ¥΄κ² μ¶”μ¶ν•  μ μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. Access Tokenμ„ μƒμ„±ν•©λ‹λ‹¤.
    2. `Bearer` μ ‘λ‘μ–΄λ¥Ό μ κ±°ν• ν›„, ν† ν°μ—μ„ `Claims`λ¥Ό μ¶”μ¶ν•©λ‹λ‹¤.
    3. μ¶”μ¶λ `Claims`μ `subject`μ™€ `username` κ°’μ΄ μ¬λ°”λ¥Έμ§€ ν™•μΈν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**
    - `subject`λ” μ‚¬μ©μ IDμ™€ μΌμΉν•΄μ•Ό ν•©λ‹λ‹¤.
    - `username`μ€ ν† ν° μƒμ„± μ‹ μ„¤μ •ν• κ°’κ³Ό μΌμΉν•΄μ•Ό ν•©λ‹λ‹¤.

---

### 4. ν† ν° μ ν¨μ„± ν™•μΈ
- **λ©μ :**  
  Access Token μ ν¨μ„± κ²€μ‚¬ κΈ°λ¥μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. μ ν¨ν• Access Tokenμ„ μƒμ„±ν•©λ‹λ‹¤.
    2. ν† ν° μ ν¨μ„±μ„ κ²€μ‚¬ν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  ν† ν°μ€ ν•­μƒ μ ν¨ν•΄μ•Ό ν•©λ‹λ‹¤.

---

### 5. μλ»λ μ„λ… ν† ν° μ²λ¦¬
- **λ©μ :**  
  μλ»λ μ„λ…μ„ κ°€μ§„ ν† ν° μ²λ¦¬ μ‹, μ μ ν• μμ™Έκ°€ λ°μƒν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. μ ν¨ν• Access Tokenμ„ μƒμ„±ν• ν›„, μ„λ… λ¶€λ¶„μ„ λ³€μ΅°ν•μ—¬ μλ»λ μ„λ… ν† ν°μ„ λ§λ“­λ‹λ‹¤.
    2. λ³€μ΅°λ ν† ν°μ—μ„ `Claims`λ¥Ό μ¶”μ¶ν•λ ¤κ³  μ‹λ„ν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  `SignatureException`μ΄ λ°μƒν•©λ‹λ‹¤.

---

### 6. λ§λ£λ ν† ν° μ²λ¦¬
- **λ©μ :**  
  λ§λ£λ ν† ν°μ„ μ²λ¦¬ν•  λ•, μ μ ν• μμ™Έκ°€ λ°μƒν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. μ§§μ€ λ§λ£ μ‹κ°„μ„ κ°€μ§„ Access Tokenμ„ μƒμ„±ν•©λ‹λ‹¤.
    2. ν† ν°μ΄ λ§λ£λ  λ•κΉμ§€ λ€κΈ°ν• ν›„, `Claims`λ¥Ό μ¶”μ¶ν•λ ¤κ³  μ‹λ„ν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  `ExpiredJwtException`μ΄ λ°μƒν•©λ‹λ‹¤.

---

### 7. Bearer μ ‘λ‘μ–΄ μ κ±°
- **λ©μ :**  
  ν† ν° λ¬Έμμ—΄μ—μ„ `Bearer` μ ‘λ‘μ–΄λ¥Ό μ¬λ°”λ¥΄κ² μ κ±°ν•  μ μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. `Bearer` μ ‘λ‘μ–΄κ°€ ν¬ν•¨λ ν† ν° λ¬Έμμ—΄μ„ μ κ³µν•κ³ , μ ‘λ‘μ–΄λ¥Ό μ κ±°ν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  μ ‘λ‘μ–΄κ°€ μ κ±°λ μμν• ν† ν° λ¬Έμμ—΄μ΄ λ°ν™λ©λ‹λ‹¤.

---

### 8. μλ»λ ν† ν° μ ‘λ‘μ–΄ μ²λ¦¬
- **λ©μ :**  
  `Bearer` μ ‘λ‘μ–΄κ°€ μ—†λ” μλ»λ ν† ν° λ¬Έμμ—΄μ„ μ²λ¦¬ν•  λ•, μ μ ν• μμ™Έκ°€ λ°μƒν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- **ν…μ¤νΈ μ μ°¨:**
    1. `Bearer` μ ‘λ‘μ–΄κ°€ μ—†λ” μλ»λ ν† ν° λ¬Έμμ—΄μ„ μ κ³µν• ν›„, μ ‘λ‘μ–΄ μ κ±° λ©”μ„λ“λ¥Ό νΈμ¶ν•©λ‹λ‹¤.
- **κΈ°λ€ κ²°κ³Ό:**  
  `ServerException`μ΄ λ°μƒν•©λ‹λ‹¤.

---


